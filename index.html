<!-- Tells browser this is an HTML5 document -->
<!DOCTYPE html>
<!-- Starts html docuement -->
<html>
<!-- Provides instructions on how the browser and search engine should interpret, display, and interact with content -->
<head>
    <!-- Loads React (main library) from a CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <!-- Loads ReactDOM, which allows React to interact with HTML pages -->
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Allows modern JavaScript and JSX directly inside <script type="text/babel"> -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Creates a title -->
    <title>New Covenant of Faith Ministries</title>
    <!-- Tells browser to load external sheetstyle (style.css) -->
    <link rel="stylesheet" href="style.css">
    <!-- Makes website responsive on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Ends head -->    
</head>

<body>
    <div id="logo-overlay">
        <img src="ncfmLogo.jpeg" alt="NCFM Logo" class="logo">
    </div>
    <!-- Overlay container -->
    <div id="welcome-overlay">
        <!-- Logo overlay -->

        <div class="overlay-content">
            <h1>Welcome to New Covenant of Faith Ministries</h1>
            <h2>where we trust God and love people</h2>
        </div>
        <div id="menu-button" class="menu-hidden">
            &#9776; <!-- Hamburger icon -->
        </div>
    </div>

    <!-- Main content of website -->
    <div id="background-overlay">
        <script src="overlay.js"></script>
        <h1>About Us</h1>
        <h2>Our Mission</h2>
        <p>New Covenenat of Faith exists to bring people from a salvation experience to an intimate relationship with
            God,
            and to prepare them for a unique ministry to the world, through spirit-filled teaching, prayer, praise,
            worship,
            and fellowship.</p>
        <h2>Vision Statement 2026</h2>
        <p>Restoring hope, building faith, and growing family.</p>
        <h2>Meet Our Pastors</h2>
        <div class="pastor-scroll">
            <div class="pastor-card">
                <img src="leadPastor.png" alt="Lead Pastor Photo" class="pastor-photo">
                <h2 class="pastor-name">Pastor Thaddeus Rutledge</h2>
                <h3 class="pastor-title">Lead Pastor</h3>
                <p class="pastor-description"> Pastor Rod has been faithfully serving the community for over 20 years,
                    leading with compassion, wisdom, and a heart for Godâ€™s people.</p>
            </div>
            <div class="pastor-card">
                <img src="coPastor.png" alt="Co Pastor Photo" class="pastor-photo">
                <h2 class="pastor-name">Pastor Andre Watkins</h2>
                <h3 class="pastor-title">Co Pastor</h3>
                <p class="pastor-description"> Pastor Andre has faithfully stood beside Pastor Rod, supporting the
                    ministry
                    with dedication and love.</p>
            </div>
        </div>
        <h2>Meet Our First Lady</h2>
        <p>Carol Rutledge</p>
        <h2>Upcoming Events</h2>
        <!-- React Event Listing -->
        <div id="event-listing"></div>
        <h1>Contact</h1>
        <p>Email: NCFMTrustingGod@gmail.com</p>
        <p>Address:</p>
        <pre>8626 2nd Ave N</pre>
        <pre>Birmingham, AL 35206</pre>
    </div>

    <!-- React Code -->
    <script type="text/babel">
        const { useState, useEffect } = React;

        function EventCard({ event }) {
            return (
                <div className="pastor-card">
                    <h2>{event.title}</h2>
                    <p>{event.date} at {event.time}</p>
                    <p>Location: {event.location}</p>
                </div>
            );
        }

        function EventListing() {
            const [events, setEvents] = useState([]);

            useEffect(() => {
                fetch("https://ncfm-backend.onrender.com/generate-sundays", {method: "POST"})
                    .then(() => fetch("https://ncfm-backend.onrender.com/events"))
                    .then(res => res.json())
                    .then(data => setEvents(data))
                    .catch(err => console.error("Error fetching events:", err));
            }, []);

            return (
                <div className="pastor-scroll">
                    {events.map((event, index) => (
                        <EventCard key={index} event={event} />
                    ))}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('event-listing'));
        root.render(<EventListing />);
    </script>
</body>


</html>